function Save(e) { var a = $(location).attr("href"), t = a.split("/")[5], n = document.getElementsByTagName("title")[0].innerHTML.trim(), s = $("#weburl").val(), o = $("#comment").val(), i = a, l = "/CommentService.asmx/saveComments"; $.ajax({ async: !1, url: l, method: "post", contentType: "application/json;charset=utf-8", data: JSON.stringify({ weburl: s, comment: o, postid: t, parentid: e, pagename: i, pagetitle: n }), dataType: "json", success: function (e) { data = e.d, 1 == data && ($("#weburl").val(""), $("#comment").val(""), $("#commentmessage").remove(), $("#commentsection").append("<div class='alert alert-success' id='commentmessage'><i class='fa fa-info-circle'></i> Comment Added Successfully But visible after moderation only</div>"), $("#commentmessage").fadeOut(5e3)) }, error: function (e) { data = "" } }) } function loadData() { var e = $(location).attr("href"), a = e.split("/")[5], t = "/CommentService.asmx/getApprovedComment"; $.ajax({ url: t, method: "post", data: { postId: a }, dataType: "json", success: function (e) { for (var a = 0; a < e.length; a++) $("#commentform").append("<div class='panel panel-info'><div class='panel-heading'><div class='row' id='div_" + e[a].Cid + "' ><div class='col-md-10'><a href='" + e[a].WebUrl + "' target='_blank'>" + e[a].WebUrl + "</a>&nbsp;" + e[a].Comments + "</div><div class='col-md-10'><input type='button' style='margin-bottom:30px;margin-top:30px;' value='Reply' id='btnreply_" + e[a].Cid + "' onClick='addReplyBox(" + e[a].Cid + ")' class='btn btn-primary'  /></div></div></div>") }, error: function (e) { data = "", alert(e.responseText) } }) } function addReplyBox(e) { var a = "div_" + e; $("#" + a).append("<div  id='replybox_" + a + "' ><div class='row'><div class='col-md-12'><textarea id='replybox' class='form-control'></textarea></div></div><div class='row'><div class='col-md-1 col-xs-2'><input type='button' class='btn btn-success' value='Post' /></div><div class='col-md-1 col-xs-2'><input type='button' class='btn btn-success' value='Cancel' onclick='Cancel(" + e + ")' /></div></div></div>") } function Cancel(e) { e = "replybox_div_" + e, $("#" + e).remove() }